{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 81939bdf57ff61bfbd72?9c81","webpack:///./src/defaults.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;mBCtCwB,S;AAAT,UAAS,SAAT,CAAoB,OAApB,EAA6B;;AAE3C,SAAO,SAAS,QAAT,CAAmB,OAAnB,EAA4B;;AAElC,WAAQ,EAAR,CAAW,YAAX,EAAyB,YAAM;;AAE9B,QAAM,QAAQ,QAAQ,KAAtB;;AAEA,SAAK,IAAI,IAAT,IAAiB,OAAjB,EAA0B;;AAEzB,SAAI,QAAQ,cAAR,CAAuB,IAAvB,CAAJ,EAAkC;AACjC,UAAM,MAAM,aAAa,KAAb,EAAoB,OAApB,EAA6B,IAA7B,CAAZ;AACA,UAAI,IAAJ,CAAS,IAAI,QAAb,IAAyB,IAAI,KAA7B;AACA;AACD;AACD,IAXD;AAYA,GAdD;AAeA;;AAEM,KAAM,8BAAW,SAAjB;;AAEP,UAAS,YAAT,CAAuB,KAAvB,EAA8B,OAA9B,EAAuC,IAAvC,EAA6C;;AAE5C,MAAM,MAAM;AACX,SAAM,EADK;AAEX,aAAU,EAFC;AAGX,UAAO;AAHI,GAAZ;;AAMA,MAAM,QAAQ,KAAK,KAAL,CAAW,GAAX,CAAd;;AAEA,MAAI,MAAM,MAAN,KAAiB,CAArB,EAAwB;AACvB,OAAI,IAAJ,GAAW,KAAX;AACA,OAAI,QAAJ,GAAe,IAAf;AACA,OAAI,KAAJ,GAAa,YAAK;AACjB,WAAO,UAAU,MAAM,IAAN,CAAV,IACJ,MAAM,IAAN,CADI,GAEJ,QAAQ,IAAR,CAFH;AAGA,IAJW,EAAZ;AAKA,GARD,MASK;;AAEJ,OAAM,aAAa,MAAM,MAAzB;AACA,OAAM,gBAAgB,MAAM,MAAN,GAAe,CAArC;;AAEA,OAAI,IAAJ,GAAW,KAAX;;AALI,8BAOK,CAPL;AAQH,QAAI,OAAO,MAAM,CAAN,CAAX;;AAEA,QAAI,CAAC,UAAU,IAAI,IAAJ,CAAS,IAAT,CAAV,CAAD,IAA8B,IAAI,aAAtC,EAAqD;AACpD,SAAI,IAAJ,CAAS,IAAT,IAAiB,EAAjB;AACA;;AAED,QAAI,UAAU,IAAI,IAAJ,CAAS,IAAT,CAAV,KAA6B,QAAO,IAAI,IAAJ,CAAS,IAAT,CAAP,MAA0B,QAA3D,EAAqE;AACpE,SAAI,IAAJ,GAAW,IAAI,IAAJ,CAAS,IAAT,CAAX;AACA;;AAED,QAAI,MAAM,aAAV,EAAyB;AACxB,SAAI,QAAJ,GAAe,IAAf;AACA,SAAI,KAAJ,GAAa,YAAM;AAClB,aAAO,UAAU,IAAI,IAAJ,CAAS,IAAT,CAAV,IACJ,IAAI,IAAJ,CAAS,IAAT,CADI,GAEJ,QAAQ,IAAR,CAFH;AAGA,MAJW,EAAZ;AAKA;AAzBE;;AAOJ,QAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAApB,EAAgC,GAAhC,EAAqC;AAAA,UAA5B,CAA4B;AAmBpC;AACD;;AAED,SAAO,GAAP;AACA;;AAED,UAAS,SAAT,CAAoB,KAApB,EAA2B;AAC1B,SAAO,UAAU,SAAV,IACH,UAAU,IADd;AAEA,E","file":"defaults.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"routine\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"routine\"] = factory();\n\telse\n\t\troot[\"routine\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 81939bdf57ff61bfbd72\n **/","export default function $defaults (mapping) {\n\n\treturn function defaults (routine) {\n\n\t\troutine.on('run:before', () => {\n\n\t\t\tconst scope = routine.scope;\n\n\t\t\tfor (let prop in mapping) {\n\n\t\t\t\tif (mapping.hasOwnProperty(prop)) {\n\t\t\t\t\tconst def = definitionOf(scope, mapping, prop);\n\t\t\t\t\tdef.host[def.property] = def.value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport const defaults = $defaults;\n\nfunction definitionOf (scope, mapping, prop) {\n\n\tconst def = {\n\t\thost: '',\n\t\tproperty: '',\n\t\tvalue: ''\n\t};\n\n\tconst parts = prop.split('.');\n\n\tif (parts.length === 1) {\n\t\tdef.host = scope;\n\t\tdef.property = prop;\n\t\tdef.value = (()=> {\n\t\t\treturn isDefined(scope[prop])\n\t\t\t\t? scope[prop]\n\t\t\t\t: mapping[prop];\n\t\t})();\n\t}\n\telse {\n\n\t\tconst totalParts = parts.length;\n\t\tconst idxOfLastPart = parts.length - 1;\n\n\t\tdef.host = scope;\n\n\t\tfor (let i = 0; i < totalParts; i++) {\n\t\t\tlet part = parts[i];\n\n\t\t\tif (!isDefined(def.host[part]) && i < idxOfLastPart) {\n\t\t\t\tdef.host[part] = {};\n\t\t\t}\n\n\t\t\tif (isDefined(def.host[part]) && typeof def.host[part] === 'object') {\n\t\t\t\tdef.host = def.host[part];\n\t\t\t}\n\n\t\t\tif (i === idxOfLastPart) {\n\t\t\t\tdef.property = part;\n\t\t\t\tdef.value = (() => {\n\t\t\t\t\treturn isDefined(def.host[part])\n\t\t\t\t\t\t? def.host[part]\n\t\t\t\t\t\t: mapping[prop];\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n\n\treturn def;\n}\n\nfunction isDefined (value) {\n\treturn value !== undefined\n\t\t&& value !== null;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/defaults.js\n **/"],"sourceRoot":""}