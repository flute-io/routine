!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("routine",[],t):"object"==typeof exports?exports.routine=t():e.routine=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";function r(e){e.on("invocation:before",function(t){var r=e.metadata.get(i),a=r?r.mappings||{}:{},p=o(t.operation),u=[],l=!0,f=!1,s=void 0;try{for(var c,d=p[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var v=c.value;if("routine"===v)u.push(e);else if(a[v]){var m=n({obj:e.scope,path:a[v]});if(!m)throw new Error("Injector mapping resolution error - mapping value "+("of '"+a[v]+"' for dependency named '"+v+"' of operation ")+("named '"+t.operation.name+"' does not exist in scope"));u.push(m)}else e.scope[v]&&u.push(e.scope[v])}}catch(g){f=!0,s=g}finally{try{!l&&d["return"]&&d["return"]()}finally{if(f)throw s}}1===u.length?t.args=u[0]:u.length>1&&(t.args=u,t.hasMultipleArgs=!0)})}function o(e){return(e+"").replace(/[\/][\/].*$/gm,"").replace(/\s+/g,"").replace(/[\/][*][^\/*]*[*][\/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)}function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.obj,r=e.path,o=r.split("."),n=t,i=!0,a=!1,p=void 0;try{for(var u,l=o[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var f=u.value;if(n=n[f],!n)break}}catch(s){a=!0,p=s}finally{try{!i&&l["return"]&&l["return"]()}finally{if(a)throw p}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,r.mappings=function(e){return function(t){t.metadata.set(i,{mappings:e})}};var i=t.injector=r}])});
//# sourceMappingURL=injector.min.js.map