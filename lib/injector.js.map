{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6***","webpack:///webpack/bootstrap 09759f671fffb7994d88?a0ac***","webpack:///./src/injector.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;mBCtCwB,Q;AAAT,UAAS,QAAT,CAAmB,OAAnB,EAA4B;;AAE1C,UAAQ,EAAR,CAAW,2BAAX,EAAwC,UAAC,UAAD,EAAgB;;AAEvD,OAAM,WAAW,MAAM,WAAW,SAAjB,CAAjB;AACA,OAAM,eAAe,EAArB;;AAHuD;AAAA;AAAA;;AAAA;AAKvD,yBAAoB,QAApB,8HAA8B;AAAA,SAArB,OAAqB;;AAC7B,SAAI,YAAY,SAAhB,EAA2B;AAC1B,mBAAa,IAAb,CAAkB,OAAlB;AACA,MAFD,MAGK,IAAI,QAAQ,KAAR,CAAc,OAAd,CAAJ,EAA4B;AAChC,mBAAa,IAAb,CAAkB,QAAQ,KAAR,CAAc,OAAd,CAAlB;AACA;AACD;AAZsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcvD,OAAI,aAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC9B,eAAW,IAAX,GAAkB,aAAa,CAAb,CAAlB;AACA,IAFD,MAGK,IAAI,aAAa,MAAb,GAAsB,CAA1B,EAA6B;AACjC,eAAW,IAAX,GAAkB,YAAlB;AACA,eAAW,eAAX,GAA6B,IAA7B;AACA;AACD,GArBD;AAsBA;;AAED,UAAS,KAAT,CAAgB,IAAhB,EAAsB;AACrB,SAAO,CAAC,OAAO,EAAR,EACL,OADK,CACG,aADH,EACkB,EADlB,CACsB;AADtB,GAEL,OAFK,CAEG,MAFH,EAEW,EAFX,CAEe;AAFf,GAGL,OAHK,CAGG,qBAHH,EAG0B,EAH1B,CAG8B;AAH9B,GAIL,KAJK,CAIC,IAJD,EAIO,CAJP,EAIU,CAJV,EAIa,OAJb,CAIqB,WAJrB,EAIkC,EAJlC,CAIsC;AAJtC,GAKL,OALK,CAKG,SALH,EAKc,EALd,CAKkB;AALlB,GAML,KANK,CAMC,GAND,EAMM,MANN,CAMa,OANb,CAAP,CAM8B;AAC9B","file":"injector.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"routine\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"routine\"] = factory();\n\telse\n\t\troot[\"routine\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 09759f671fffb7994d88\n **/","export default function injector (routine) {\n\n\troutine.on('before-invoking-operation', (invocation) => {\n\n\t\tconst argNames = $args(invocation.operation);\n\t\tconst argsToInject = [];\n\n\t\tfor (let argName of argNames) {\n\t\t\tif (argName === 'routine') {\n\t\t\t\targsToInject.push(routine);\n\t\t\t}\n\t\t\telse if (routine.scope[argName]) {\n\t\t\t\targsToInject.push(routine.scope[argName]);\n\t\t\t}\n\t\t}\n\n\t\tif (argsToInject.length === 1) {\n\t\t\tinvocation.args = argsToInject[0];\n\t\t}\n\t\telse if (argsToInject.length > 1) {\n\t\t\tinvocation.args = argsToInject;\n\t\t\tinvocation.hasMultipleArgs = true;\n\t\t}\n\t});\n}\n\nfunction $args (func) {\n\treturn (func + '')\n\t\t.replace(/[/][/].*$/mg, '') // strip single-line comments\n\t\t.replace(/\\s+/g, '') // strip white space\n\t\t.replace(/[/][*][^/*]*[*][/]/g, '') // strip multi-line comments\n\t\t.split('){', 1)[0].replace(/^[^(]*[(]/, '') // extract the parameters\n\t\t.replace(/=[^,]+/g, '') // strip any ES6 defaults\n\t\t.split(',').filter(Boolean); // split & filter [\"\"]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/injector.js\n **/"],"sourceRoot":""}